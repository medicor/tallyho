<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/paper-drawer-panel/paper-drawer-panel.html">
<link rel="import" href="../bower_components/paper-header-panel/paper-header-panel.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/paper-item/paper-item.html">
<link rel="import" href="../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../bower_components/firebase-element/firebase-collection.html">

<dom-module id="x-app">
	<style>
		:host {
			display: block;
		}
		
		.nav {
			border-right: 1px solid #ccc;
		}
		
		.list-panel {
			background-color: #fafafa;
		}
		
		.list-panel {
			--paper-header-panel-standard-container: {
				border-right: 1px solid #ccc;
			}
			;
		}
		
		paper-toolbar {
			background-color: #42A5F5;
		}
		
		.list {
			padding: 0;
		}
		
		.list paper-item {
			height: 80px;
			border-bottom: 1px solid #dedede;
			background-color: #fafafa;
		}
		
		.main-drawer-panel:not([narrow]) [list-toggle] {
			display: none;
		}
		
		.content {
			height: 3000px;
		}
	</style>
	<template>
		<paper-drawer-panel id="navDrawerPanel" responsive-width="1280px">
			<div class="nav" drawer>
				<!-- Nav Content -->
			</div>
			<paper-drawer-panel id="mainDrawerPanel" class="main-drawer-panel" main responsive-width="600px" drawer-width="[[_computeListWidth(_isMobile)]]" drawer-toggle-attribute="list-toggle" narrow="{{_isMobile}}">
				<paper-header-panel class="list-panel" drawer>
					<!-- List Toolbar -->
					<paper-toolbar>
						<paper-icon-button icon="menu" paper-drawer-toggle></paper-icon-button>
					</paper-toolbar>
					<!-- List -->
					<paper-menu class="list" on-iron-activate="_listTap">
						<firebase-collection location="https://medicor.firebaseio.com/companies/customers" data="{{customers}}"></firebase-collection>
						<template is="dom-repeat" items="[[customers]]" as="customer">
							<paper-item>
							[[customer.__firebaseKey__]]<br>
							[[customer.contactName]]
							</paper-item>
						</template>
					</paper-menu>
				</paper-header-panel>
				<paper-header-panel class="content-panel" main>
					<!-- Main Toolbar -->
					<paper-toolbar>
						<paper-icon-button icon="arrow-back" list-toggle></paper-icon-button>
					</paper-toolbar>
					<!-- Main Content -->
					<div class="content">
						<p>Details on project here.</p>
					</div>
				</paper-header-panel>
			</paper-drawer-panel>
		</paper-drawer-panel>
	</template>
	<script>
		Polymer({
			is: 'x-app',
			_computeListWidth: function(isMobile) {
				// when in mobile screen size, make the list be 100% width to cover the whole screen
				return isMobile ? '100%' : '33%';
			},
			_listTap: function() {
				this.$.mainDrawerPanel.closeDrawer();
			}
		});
	</script>
</dom-module>